 input {
    jdbc {
        jdbc_driver_library => "/usr/share/logstash/mysql-connector-java.jar"
        jdbc_driver_class => "com.mysql.cj.jdbc.Driver"
        jdbc_connection_string => "${LOGSTASH_JDBC_URL}"
        jdbc_user => "${LOGSTASH_JDBC_USERNAME}"
        jdbc_password => "${LOGSTASH_JDBC_PASSWORD}"
        schedule => "* * * * *"
        statement => "SELECT * FROM Experience"
    }
}


#output插件配置
output{
      elasticsearch {
         # 这里可以是数组，可以是多个节点的地址，会自动启用负载均衡
         hosts => ["elasticsearch:9200"]
         #index名称
         index => "exp"
         document_type =>"Experience"
         #文档id，必须设置，且表达式的变量存在，否则只>能插入一条记录
         document_id => "%{id}"
      }
      # 控制台打印json
      stdout {
         codec => json_lines
     }
 }